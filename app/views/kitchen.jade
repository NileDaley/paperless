extends layout

block content
  #app
    .section
      .container
        .columns
          .column.is-8.is-offset-2
            h2.title Kitchen
            #tickets.columns.is-multiline.is-centered
              .column.is-4(v-for="t in tickets")
                .box
                  p.subtitle.has-text-centered(style="margin-bottom: .5rem") Table {{t.table}}
                  p.has-text-centered.has-text-danger(v-if="t.elapsed.hours !== null") {{t.elapsed.hours}}:{{t.elapsed.minutes}}:{{t.elapsed.seconds}}
                  div(v-for="course in ['starters','mains','sides','desserts']")
                    div(v-if="getCourse(course, t.table).items.length > 0")
                      p.label.is-capitalized {{course}}
                      .orderItem(v-for="dish in getCourse(course, t.table).items")
                        .columns.is-mobile
                          .column.is-narrow
                            input(type="checkbox" @click="toggleReady(t.table, course, dish)" v-bind:checked="dish.status === 'ready'")
                          .column(:class="{'has-text-success strikethrough': dish.status === 'ready'}")
                            span {{dish.item.name}}
                          .column.is-narrow
                            span.is-pulled-right
                              | x{{dish.quantity}}
                      br
            
  script(src="/js/kitchen.js")

